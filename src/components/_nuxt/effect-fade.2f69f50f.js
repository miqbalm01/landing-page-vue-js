function u(e){const{effect:s,swiper:t,on:l,setTranslate:o,setTransition:f,overwriteParams:r,perspective:n,recreateShadows:i,getEffectParams:c}=e;l("beforeInit",()=>{if(t.params.effect!==s)return;t.classNames.push(`${t.params.containerModifierClass}${s}`),n&&n()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const d=r?r():{};Object.assign(t.params,d),Object.assign(t.originalParams,d)}),l("setTranslate",()=>{t.params.effect===s&&o()}),l("setTransition",(d,m)=>{t.params.effect===s&&f(m)}),l("transitionEnd",()=>{if(t.params.effect===s&&i){if(!c||!c().slideShadows)return;t.slides.each(d=>{t.$(d).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),i()}});let a;l("virtualUpdate",()=>{t.params.effect===s&&(t.slides.length||(a=!0),requestAnimationFrame(()=>{a&&t.slides&&t.slides.length&&(o(),a=!1)}))})}function p(e,s){return e.transformEl?s.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):s}function g({swiper:e,duration:s,transformEl:t,allSlides:l}){const{slides:o,activeIndex:f,$wrapperEl:r}=e;if(e.params.virtualTranslate&&s!==0){let n=!1,i;l?i=t?o.find(t):o:i=t?o.eq(f).find(t):o.eq(f),i.transitionEnd(()=>{if(n||!e||e.destroyed)return;n=!0,e.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let a=0;a<c.length;a+=1)r.trigger(c[a])})}}function E({swiper:e,extendParams:s,on:t}){s({fadeEffect:{crossFade:!1,transformEl:null}}),u({effect:"fade",swiper:e,on:t,setTranslate:()=>{const{slides:f}=e,r=e.params.fadeEffect;for(let n=0;n<f.length;n+=1){const i=e.slides.eq(n);let a=-i[0].swiperSlideOffset;e.params.virtualTranslate||(a-=e.translate);let d=0;e.isHorizontal()||(d=a,a=0);const m=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);p(r,i).css({opacity:m}).transform(`translate3d(${a}px, ${d}px, 0px)`)}},setTransition:f=>{const{transformEl:r}=e.params.fadeEffect;(r?e.slides.find(r):e.slides).transition(f),g({swiper:e,duration:f,transformEl:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}export{E};
